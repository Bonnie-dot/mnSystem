(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{696:function(t,e,n){var content=n(709);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(43).default)("801cd0a6",content,!0,{sourceMap:!1})},708:function(t,e,n){"use strict";var r=n(696);n.n(r).a},709:function(t,e,n){(t.exports=n(42)(!1)).push([t.i,".container button[data-v-cf1518d8]{position:relative;width:100px}.title[data-v-cf1518d8]{border-bottom:2px solid #e8eaec;font-size:16px;font-weight:700;padding-bottom:10px;color:#464c5b;padding-left:5px}.info[data-v-cf1518d8]{width:30%;margin-top:30px}.row .btn[data-v-cf1518d8]{height:40px;line-height:40px}.avators[data-v-cf1518d8]{margin-top:70px;position:relative}.row[data-v-cf1518d8]{display:flex}.row span[data-v-cf1518d8]:first-child{flex:2}.avators>span[data-v-cf1518d8]{position:relative;top:-45px;margin-right:40px}.avators .av-img[data-v-cf1518d8]{width:50px;height:50px;border-radius:50%;vertical-align:middle}.avators button[data-v-cf1518d8]{top:-45px;right:-5%}.username[data-v-cf1518d8]{margin-top:30px}.password[data-v-cf1518d8]{margin-top:70px}.username button[data-v-cf1518d8]{right:-8%}.password>button[data-v-cf1518d8]{right:-7%}.password>span[data-v-cf1518d8]:first-child,.username>span[data-v-cf1518d8]:first-child{margin-right:70px}.btn[data-v-cf1518d8]{background:#2d8cf0;color:#fff;border:none;border-radius:5px}.file[data-v-cf1518d8]{height:40px;position:absolute;width:100px;top:-88%;right:-5%;opacity:0;z-index:666}",""])},729:function(t,e,n){"use strict";n.r(e);var r=n(38),o=n(49),d=n(190),c=n.n(d),f={layout:"default",data:function(){return{header:{"x-access-token":""},accept:".jpg,.jpeg,.gif,.png,.bmp",userInfo:{},userName:"",password:""}},computed:Object(o.c)("admin",{token:function(t){return t.token},user:function(t){return t.user}}),created:function(){this.getData()},methods:Object(r.a)({},Object(o.b)("admin",["setUser"]),{uploadImg:function(t){var e=this,n=t.target.files[0];if(n.size/1024>100)this.$Message.warning("图片大小不能超过100M");else{var param=new FormData;param.append("file",n),param.append("userId",this.user._id),this.$axios.post("/admin/user/uploadImg",param).then(function(t){e.setUser(t.data),e.getData()})}},getData:function(){var t=this;this.$axios.post("/admin/user/getUserInfo",{_id:this.user._id}).then(function(e){t.userInfo=e.data})},changeInfo:function(t){var e=this;e.$Modal.confirm({render:function(n){return n("Input",{props:{value:e.value,autofocus:!0,placeholder:"password"==t?"请输入你的密码":"请输入你的用户名"},on:{input:function(n){e[t]=n}}})},onOk:function(){var param={},n="";"password"==t?(n="/admin/user/updateUserPassword",param={userId:e.user._id,passWord:c()(e.password)}):(n="/admin/user/updateUserName",param={userId:e.user._id,userName:e.userName}),e.$axios.post(n,param).then(function(t){e.getData()})}})}}),head:function(){return{title:"用户信息"}}},v=(n(708),n(30)),component=Object(v.a)(f,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("p",{staticClass:"title"},[t._v("个人信息修改")]),t._v(" "),n("div",{staticClass:"info"},[n("div",{staticClass:"avators row"},[n("span",[t._v("\n        用户头像：\n        "),n("img",{staticClass:"av-img",attrs:{src:t.userInfo.avator}})]),t._v(" "),n("button",{staticClass:"btn",attrs:{type:"button"}},[t._v("重新上传")]),t._v(" "),n("input",{staticClass:"file",attrs:{type:"file",accept:t.accept},on:{change:t.uploadImg}})]),t._v(" "),n("div",{staticClass:"username row"},[n("span",[t._v("\n        用户名：\n        "),n("span",[t._v(t._s(t.userInfo.username))])]),t._v(" "),n("Button",{attrs:{type:"primary"},on:{click:function(e){return t.changeInfo("userName")}}},[t._v("修改用户名")])],1),t._v(" "),n("div",{staticClass:"password row"},[n("span",[t._v("\n        密码：\n        "),n("span",[t._v(t._s(t.userInfo.password&&t.userInfo.password.replace(/./g,"*")))])]),t._v(" "),n("Button",{attrs:{type:"primary"},on:{click:function(e){return t.changeInfo("password")}}},[t._v("修改密码")])],1)])])},[],!1,null,"cf1518d8",null);e.default=component.exports}}]);